<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine? âœ¨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Pangolin&display=swap');

        :root {
            --hot-pink: #ff85a1;
            --soft-pink: #fbb1bd;
            --bg-color: #ffe5ec;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--bg-color);
            font-family: 'Pangolin', cursive;
            overflow: hidden;
            touch-action: none;
        }

        .bg-heart {
            position: absolute;
            color: rgba(255, 133, 161, 0.2);
            user-select: none;
            z-index: -1;
            animation: float 10s linear infinite;
        }

        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg); }
            100% { transform: translateY(-10vh) rotate(360deg); }
        }

        .card {
            background: white;
            padding: 2rem;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(255, 77, 109, 0.2);
            text-align: center;
            max-width: 90%;
            border: 5px solid white;
            outline: 3px solid var(--soft-pink);
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            color: #c9184a;
            font-size: 2.5rem;
            margin: 1rem 0;
        }

        .gif-container img {
            width: 150px;
            border-radius: 20px;
        }

        .btn-group {
            margin-top: 2rem;
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            min-height: 60px;
        }

        button {
            padding: 15px 35px;
            font-size: 1.3rem;
            font-family: 'Fredoka One', cursive;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        #yesBtn {
            background-color: var(--hot-pink);
            color: white;
            box-shadow: 0 5px 0 #ff4d6d;
        }

        #noBtn {
            background-color: #adb5bd;
            color: white;
            position: relative;
        }

        /* The Final Modal - No Close Button */
        #modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(255, 255, 255, 1); /* Solid background to hide the main page */
            z-index: 1000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        .meme-img {
            max-width: 300px;
            border-radius: 15px;
            margin: 20px 0;
            border: 4px solid var(--hot-pink);
        }

        .surprise-text {
            font-size: 2rem;
            color: #c9184a;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <div class="card">
        <div class="gif-container">
            <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMjU1NjFnYTNteGM0OTM3M2hheWI3bDA1Ynp2bmJ6enlwNjg4d3U4aiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jVc9j9QXBUKkXi0nVn/giphy.gif" alt="Love Frog">
        </div>
        <h1>Will you be my Valentine?</h1>
        <p>Choose wisely... you can't leave until you do! ðŸ˜‰</p>
        <div class="btn-group">
            <button id="yesBtn">YES!</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <div id="modal">
        <div class="surprise-text" id="msg"></div>
        <div id="meme-container"></div>
        <p style="color: #ff85a1;">ðŸ’– Mission Accomplished ðŸ’–</p>
    </div>

    <script>
        let hasChosenYes = false;

        // 1. Lock Attempt: Prevent Back Button & Tab Closing
        window.onbeforeunload = function() {
            if (!hasChosenYes) {
                return "You haven't said YES yet! You can't leave me like this!";
            }
        };

        // Push a state so back button just reloads this page
        history.pushState(null, null, location.href);
        window.onpopstate = function() {
            if (!hasChosenYes) {
                history.go(1);
            }
        };

        // 2. Floating hearts
        function createBgHearts() {
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'bg-heart';
                heart.innerHTML = 'â¤ï¸';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
                heart.style.animationDelay = (Math.random() * 10) + 's';
                document.body.appendChild(heart);
            }
        }
        createBgHearts();

        // 3. The Unstoppable No Button
        const noBtn = document.getElementById('noBtn');
        const flee = () => {
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = 'absolute';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
        };

        noBtn.addEventListener('mouseover', flee);
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            flee();
        });

        // 4. One-time Surprises
        const yesBtn = document.getElementById('yesBtn');
        const modal = document.getElementById('modal');
        const msg = document.getElementById('msg');
        const memeContainer = document.getElementById('meme-container');

        const surprises = [
            { t: "LETS GOOOOO! ðŸš€", m: "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExajN5NjJpMXo1bHoxYmtrN3p1bWhzYTh2cnBqdmJmYTZsMmd2NG4weiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/XCm6aoloWyUkwUuqkf/giphy.gif" },
            { t: "I've already told your parents.", m: "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNnU1dWViZzByb2h4aW03d3k0dmZiZTVzc3p4dHIwM3RuZG5vcTYycCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Kr4fFCKU5X0vkDF0ta/giphy.gif" },
            { t: "You have made the best decision of your life.", m: "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExYzYweTA0OWpqN2lmbjhrZDl0NTVyejJmcXQxaW94ZTBjcG54dDk1bCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/rO30X1Eb6LluHGFDfD/giphy.gif" },
            { t: "Regardless, I knew you were interested ðŸ˜", m: "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExdXczcGl3YmRuMWp2NjlxZnh6NWs1bmpwZ2I3ZmkxaWZvMjVzbDczYyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/10UUe8ZsLnaqwo/giphy.gif" },
            { t: "Processing love... 100% Complete.", m: "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExM2Z5MWkya2F3eW9nMW95bTZlbmUwZHJid3ltYnN5cjZ5cjNqc203eCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/m1T2cBIL3DHDRxDBfz/giphy.gif" }
        ];

        yesBtn.addEventListener('click', () => {
            hasChosenYes = true;
            const random = surprises[Math.floor(Math.random() * surprises.length)];
            msg.innerText = random.t;
            memeContainer.innerHTML = `<img src="${random.m}" class="meme-img">`;
            modal.style.display = 'flex';
            
            // Celebration
            for(let i=0; i<50; i++) {
                setTimeout(createConfetti, i * 30);
            }
        });

        function createConfetti() {
            const c = document.createElement('div');
            c.innerText = ['ðŸ’–','âœ¨','ðŸ•','ðŸ§¸'][Math.floor(Math.random()*4)];
            c.style.position = 'fixed';
            c.style.left = Math.random() * 100 + 'vw';
            c.style.top = '100vh';
            c.style.fontSize = '2rem';
            c.style.zIndex = '1001';
            c.style.transition = 'transform 3s linear, opacity 3s';
            document.body.appendChild(c);
            
            setTimeout(() => {
                c.style.transform = `translateY(-120vh) rotate(${Math.random() * 720}deg)`;
                c.style.opacity = '0';
            }, 10);
            setTimeout(() => c.remove(), 3000);
        }
    </script>
</body>
</html>
